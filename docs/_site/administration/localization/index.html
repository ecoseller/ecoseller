<!DOCTYPE html>

<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Localization | ecoseller</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="Localization" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Table of contents:" />
<meta property="og:description" content="Table of contents:" />
<link rel="canonical" href="http://localhost:4000/administration/localization/" />
<meta property="og:url" content="http://localhost:4000/administration/localization/" />
<meta property="og:site_name" content="ecoseller" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Localization" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"Article","description":"Table of contents:","headline":"Localization","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/siteicon.png"}},"url":"http://localhost:4000/administration/localization/"}</script>
<!-- End Jekyll SEO tag -->

	<link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="ecoseller" />

	<link rel="stylesheet"
		href="//fonts.googleapis.com/css?family=Merriweather:400,400italic,700,700italic|Open+Sans:400,400italic,600,600italic,700,700italic|Inconsolata:400,700">
	<link rel="stylesheet" href="/css/main.css">
	<link rel="apple-touch-icon" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" href="/touch-icon.png" sizes="192x192">
	<link rel="icon" type="image/png" href="/images/favicon.ico">

	
</head>

<body>
	<header>
		<h1>
			<a style="color: black;" href="/"><img src="/images/emblem.svg"
					width="100" height="100" alt="ecoseller logo"></a>
			<a>ecoseller</a>
			<button type="button" class="open-nav" id="open-nav"></button>
		</h1>

		<form action="/search/" method="get">
			<input type="text" name="q" id="search-input" placeholder="Search" autofocus>
			<input type="submit" value="Search" style="display: none;">
		</form>

		<nav class="full-navigation" >
			<ul>
				<li class="nav-item top-level ">
					
					<a href="/">Introduction</a>
				</li>
			</ul>

			<ul>
				
				
				<li class="nav-item top-level current">
					
					<a href="/administration/installation/">Administration documentation</a>
					<ul>
						
						<li class="nav-item "><a
								href="/administration/installation/">Installation</a></li>
						
						<li class="nav-item "><a
								href="/administration/administration/">Administration</a></li>
						
						<li class="nav-item current"><a
								href="/administration/localization/">Localization</a></li>
						
						<li class="nav-item "><a
								href="/administration/authorization/">Authorization</a></li>
						
					</ul>
				</li>
				
				<li class="nav-item top-level ">
					
					<a href="/programming/technical-design/">Programming documentation</a>
					<ul>
						
						<li class="nav-item "><a
								href="/programming/technical-design/">Technical design</a></li>
						
						<li class="nav-item "><a
								href="/programming/backend/">Backend</a></li>
						
						<li class="nav-item "><a
								href="/programming/dashboard_storefront/">Dashboard and Storefront</a></li>
						
						<li class="nav-item "><a
								href="/programming/recommender_system/">Recommender system</a></li>
						
						<li class="nav-item "><a
								href="/programming/supportive_services/">Supportive services</a></li>
						
					</ul>
				</li>
				
				<li class="nav-item top-level ">
					
					<a href="/user/dashboard/">User category</a>
					<ul>
						
						<li class="nav-item "><a
								href="/user/dashboard/">User documentation - Dashboard</a></li>
						
						<li class="nav-item "><a
								href="/user/storefront/">User documentation - Storefront</a></li>
						
					</ul>
				</li>
				
			</ul>

			<ul>
				<li class="nav-item top-level ">
					
					<a href="/contribution/">Contribution</a>
				</li>
			</ul>
		</nav>
	</header>

	<section class="main">
		<div class="page-header">
			<h2>Administration documentation</h2>
			<h3>Localization</h3>
		</div>
		<article class="content">
			<p>Table of contents:</p>
<ul id="markdown-toc">
  <li><a href="#languages" id="markdown-toc-languages">Languages</a>    <ul>
      <li><a href="#backend" id="markdown-toc-backend">Backend</a></li>
      <li><a href="#storefront" id="markdown-toc-storefront">Storefront</a></li>
    </ul>
  </li>
  <li><a href="#country" id="markdown-toc-country">Country</a></li>
  <li><a href="#currency" id="markdown-toc-currency">Currency</a></li>
  <li><a href="#vat-groups" id="markdown-toc-vat-groups">VAT groups</a></li>
</ul>

<p>Ecoseller is designed to be a versatile and comprehensive e-commerce platform that caters to a global audience. With its aim to support multi-country operations, Ecoseller provides extensive localization capabilities across all aspects of user communication. This section of the administration documentation focuses on the localization features and configuration options available within Ecoseller.</p>

<p>However, to understand the localization capabilities of Ecoseller, it is important to first understand the concept of locales and how they are used within the platform.</p>

<p>We’ve chosen “country first” approach. Which means, that our main localize unit is a country. For example, if you want to have a store in the US and in the UK - you will have to create two countries, but mostlikely with the same language (English). But they will differ in currency, VAT groups, shipping methods and most likely even in the price list for products (since you might have different prices for stocking, packaging and marketing in different countries).</p>

<h2 id="languages">Languages</h2>
<p>Since languages are loaded on the startup of the backend and storefront, when editing them, it’s neccessary to dive into the code a little bit.</p>

<h3 id="backend">Backend</h3>
<p>Languages are loaded in the <code class="language-plaintext highlighter-rouge">src/backend/core/core/settings.py</code> file under the <code class="language-plaintext highlighter-rouge">PARLER_LANGUAGES</code> variable.
If you want to add a new language, you will have to add a new entry to this variable, under the <code class="language-plaintext highlighter-rouge">None</code> key.
If you want to set different language as a default, you will have to change the <code class="language-plaintext highlighter-rouge">PARLER_DEFAULT_LANGUAGE_CODE</code> variable in the same file as well as <code class="language-plaintext highlighter-rouge">LANGUAGE_CODE</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">LANGUAGE_CODE</span> <span class="o">=</span> <span class="s">"en"</span>
<span class="n">PARLER_DEFAULT_LANGUAGE_CODE</span> <span class="o">=</span> <span class="s">"en"</span>
<span class="n">PARLER_LANGUAGES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="bp">None</span><span class="p">:</span> <span class="p">(</span>
        <span class="p">{</span>
            <span class="s">"code"</span><span class="p">:</span> <span class="s">"en"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">"code"</span><span class="p">:</span> <span class="s">"cs"</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">),</span>
    <span class="s">"default"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"fallbacks"</span><span class="p">:</span> <span class="p">[</span><span class="s">"en"</span><span class="p">],</span>  <span class="c1"># defaults to PARLER_DEFAULT_LANGUAGE_CODE
</span>        <span class="s">"hide_untranslated"</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>  <span class="c1"># the default; let .active_translations() return fallbacks too.
</span>    <span class="p">},</span>
<span class="p">}</span>
</code></pre></div></div>
<p>Backend languages are used for database translation - so for all data stored in the database, like product names, descriptions, categories, etc. and for the e-mails sent from the backend.</p>

<p>If you want to edit translation of the e-mail templates, you will have to go to the container <code class="language-plaintext highlighter-rouge">backend</code> and run the following command:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 manage.py makemessages <span class="nt">-l</span> en <span class="nt">-l</span> cs <span class="nt">-l</span> other_language ...
</code></pre></div></div>

<p>After that, Django will create or append to the <code class="language-plaintext highlighter-rouge">locale</code> folder in the <code class="language-plaintext highlighter-rouge">backend</code> container. There you will find a folder for each language you’ve specified in the command above. In each folder, there will be a file called <code class="language-plaintext highlighter-rouge">django.po</code>. This file contains all the strings that are used in the backend and are marked for translation. You can edit the strings in this file and then run the following command to compile the changes:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 manage.py compilemessages
</code></pre></div></div>

<p>Editing data in the database is a little bit more complicated is fully handled by <strong>ecoseller</strong> dashboard. Everything is described in the user documentation. (TODO: add link to user documentation)</p>

<h3 id="storefront">Storefront</h3>
<p>Since storefront is a Next.js application, for the localization, we use <a href="https://github.com/i18next/next-i18next">next-i18next</a> package. It’s a wrapper around <a href="https://www.i18next.com/">i18next</a> package, which is a very popular localization package for JavaScript.</p>

<p>Languages are loaded in the <code class="language-plaintext highlighter-rouge">src/storefront/next-i18next.config.js</code> file under the <code class="language-plaintext highlighter-rouge">i18n.locales</code> variable (and <code class="language-plaintext highlighter-rouge">i18n.defaultLocale</code>).</p>

<p>Translations are loaded in the <code class="language-plaintext highlighter-rouge">src/storefront/public/locales</code> folder. Each language has its own folder and in each folder, there are multiple JSON files representing all i18n namespaces that can be found in the project. This file contains all the strings that are used in the storefront and are marked for translation. You can edit the strings in this file. After you’re done, you need to rebuild your container so that changes are applied.</p>

<p>If you add new translations, then run</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm run translate
</code></pre></div></div>

<p>to extend the <code class="language-plaintext highlighter-rouge">src/storefront/public/locales</code> folder with new namespaces and strings.</p>

<h2 id="country">Country</h2>

<p>Country is the main localization unit in <strong>ecoseller</strong>. It’s used to define the following:</p>
<ul>
  <li>Currency</li>
  <li>VAT groups</li>
  <li>locale</li>
  <li>shipping methods</li>
</ul>

<p>Countries are stored in the database and can be edited in the <strong>ecoseller</strong> dashboard. Everything is described in the user documentation. (TODO: add link to user documentation)</p>

<h2 id="currency">Currency</h2>

<p>Currency should allow you to make user more comfortable and feel like they’re shopping at their local store. 
Currency is binded to the country, so you can have different currencies for different countries.</p>

<p>Currencies are also stored in the database and you can edit them in the <strong>ecoseller</strong> dashboard. Everything is described in the user documentation. (TODO: add link to user documentation)</p>

<h2 id="vat-groups">VAT groups</h2>

<p>VAT groups are used to define different VAT rates for different products and countries. With this feature, you can have different VAT rates for different countries as well as different VAT rates for different products (usually there’s a standard rate and reduced rate).</p>

<p>VAT groups are also stored in the database and you can edit them in the <strong>ecoseller</strong> dashboard. Everything is described in the user documentation. (TODO: add link to user documentation)</p>

		</article>
	</section>

	<script>
		document.getElementById("open-nav").addEventListener("click", function () {
			document.body.classList.toggle("nav-open");
		});
	</script>
</body>

</html>